import { Meta, Canvas, ArgTypes } from "@storybook/addon-docs";

import * as ScrollableBlockStories from "./scrollable-block/scrollable-block.stories";
import * as MenuSegmentTitleStories from "./menu-segment-title/menu-segment-title.stories";
import * as MenuFullscreenStories from "./menu-full-screen/menu-full-screen.stories";
import * as MenuDividerStories from "./menu-divider/menu-divider.stories";
import * as MenuItemStories from "./menu-item/menu-item.stories";
import * as MenuStories from "./menu.stories";

<Meta title="Menu" parameters={{ info: { disable: true } }} of={MenuStories} />

# Menu

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/59e0bd-menu"
  style={{ color: "#007E45", fontWeight: "bold", textDecoration: "underline" }}
  rel="noreferrer"
>
  Product Design System component
</a>

Provides navigation for an app, which can be used via mouse or keyboard.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

```javascript
import {
  Menu,
  MenuItem,
  MenuDivider,
  MenuSegmentTitle,
  ScrollableBlock,
  MenuFullscreen,
} from "carbon-react/lib/components/menu";
```

## Examples

### Default

<Canvas name="default" of={MenuStories.DefaultStory} />

### Selected

<Canvas name="selected" of={MenuStories.SelectedStory} />

### Divider

<Canvas name="divider" of={MenuStories.DividerStory} />

### Large divider

<Canvas name="large divider" of={MenuStories.LargeDividerStory} />

### Segment title

<Canvas name="segment title" of={MenuStories.SegmentTitleStory} />

### With alternate colour variant

<Canvas name="alternate colour" of={MenuStories.AlternateColourStory} />

### Submenu options

<Canvas name="submenu options" of={MenuStories.SubmenuOptionsStory} />

### Submenu direction left

<Canvas
  name="submenu direction left"
  of={MenuStories.SubmenuDirectionLeftStory}
/>

### With icon

<Canvas name="with icon" of={MenuStories.WithIconStory} />

### No dropdown arrow on submenu

The example below has set the `showDropdownArrow` to false for the MenuItem with a submenu which means no dropdown arrow
is rendered.

<Canvas
  name="no submenu dropdown arrow"
  of={MenuStories.NoDropdwonArrowOnSubmenuStory}
/>

### Split submenu into separate component

If you need to split out a submenu into a separate component, it must be done as shown below in order for the keyboard navigation to work as intended.

<Canvas
  name="submenu separate component"
  of={MenuStories.SplitSubmenuIntoSeparateComponentStory}
/>

### Submenu icon and text alignment

In order to align text and icons within a submenu a `Box` component will need to be used to adjust the margin of the content.

<Canvas name="button icon" of={MenuStories.SubmeuIconAndTextAlignment} />

### Scrollable submenu

A scrollable submenu can be added using the `ScrollableBlock` component. This can be used for all of the submenu items, or just a selection, as shown in `Menu Itme Four` below.
Note that only one `ScrollableBlock` can be used within a single submenu.

<Canvas name="scrollable submenu" of={MenuStories.ScrollableSubmenuStory} />

### Scrollable submenu with parent

This is an example of using the `parent` prop of `ScrollableBlock` to render a scrollable sublist of a parent item. The `parentVariant`
prop can be used to give it a variant that's different from that used in the `ScrollableBlock`.

Note that the result shown here, for those interacting with the page without assisistive technology, is the same as that which
would be produced by leaving out the `parent` prop and putting the `Search` component inside a separate `MenuItem` just before the
`ScrollableBlock`. However the rendered HTML would be different, with the `ScrollableBlock` becoming a sublist inside its own list
item that is not connected to the Search - in this example there is a clear semantic relationship between the search input and the
scrollable list so the `parent` prop should be used to ensure screenreaders make the relationship clear to their users.

<Canvas
  name="scrollable submenu with parent item"
  of={MenuStories.ScrollableSubmenuWithParent}
/>

### Submenu with search

<Canvas name="submenu with search" of={MenuStories.SubmenuWithSearch} />

### Truncated titles

Menu items can be given a maximum width using the `maxWidth` prop. Text overflowing this width will be truncated.
A title attribute is added to the item when using this prop, containing the full menu item text.

<Canvas name="truncated titles" of={MenuStories.TruncatedTitlesStory} />

### Responsive composition

This story is best viewed in the `canvas` view and by adjusting the size of the window to see the various Menu compositions
at the different breakpoints.

<Canvas
  name="responsive composition"
  of={MenuStories.ResponsiveCompositionStory}
/>

### Fullscreen view

This story is best viewed in the `canvas` view and by adjusting the size of the window. The fullscreen menu behaviour will
trigger when the screen size is smaller than `1200px`. Please note the `MenuItem`s are intended to have a width that fills the viewport,
as such any `maxWidth` value passed will not be set when they are children of `MenuFullscreen`.

<Canvas name="fullscreen view" of={MenuStories.FullscreenViewStory} />

## Props

### Menu

<ArgTypes of={MenuStories} />

### MenuItem

<ArgTypes of={MenuItemStories} />

### ScrollableBlock

<ArgTypes of={ScrollableBlockStories} />

### MenuDivider

<ArgTypes of={MenuDividerStories} />

### MenuSegmentTitle

<ArgTypes of={MenuSegmentTitleStories} />

### MenuFullscreen

<ArgTypes of={MenuFullscreenStories} />
