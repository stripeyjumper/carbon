import { Meta, ArgsTable, Canvas, Story } from "@storybook/addon-docs";
import styled from "styled-components";

import Toast from ".";
import TranslationKeysTable from "../../../.storybook/utils/translation-keys-table";
import * as stories from "./toast.stories";

<Meta
  title="Toast"
  parameters={{ info: { disable: true }, chromatic: { disableSnapshot: true } }}
/>

# Toast

<a
  target="_blank"
  href="https://zeroheight.com/2ccf2b601/p/31d5ea-toast/b/227fa0"
  style={{ color: '#007E45', fontWeight: 'bold', textDecoration: 'underline' }}
>
  Product Design System component 
</a>

Toast is part of Carbon's Flashes components.
Its purpose is to present quick confirmation of success or failure, relating to the task the user has just performed. Alternatively, use Toast messages for a longer, timely message that the user must dismiss.

Various types are available:

- **Error** - Shows an error or failed action or task. Includes next steps.
- **Info** - Shows additional information when a task is completed.
- **Success** - Shows a successful action or completion of a task.
- **Warning** - Shows information about external factors that impact a task. For example, the user does not have access rights.
- **Neutral** - Shows information or advice, or provides context.

## Contents

- [Quick Start](#quick-start)
- [Examples](#examples)
- [Props](#props)

## Quick Start

To use toast, import the `Toast` and pass the content as children.

```javascript
import Toast from "carbon-react/lib/components/toast";
```

### Controlled

```javascript
const MyComponent = () => (
  <Toast
    variant="info"
    id="toast-quick-start"
    open={isOpen}
    onDismiss={onDismissClick}
  >
    {children}
  </Toast>
);
```

It can be used as a uncontrolled component.

### Uncontrolled

```javascript
const MyComponent = () => (
  <Toast variant="info" id="toast-quick-start">
    {children}
  </Toast>
);
```

## Examples

Please note, by clicking a `toggle preview` button it will open example toast at the top of the page.

### Default

Toast variant is `success` by default

<Canvas>
  <Story name="default" story={stories.Default} />
</Canvas>

### Horizontal Align - Left

<Canvas>
  <Story name="horizontal left aligned" story={stories.AlignedLeft} />
</Canvas>

### Horizontal Align - Center

<Canvas>
  <Story name="horizontal center aligned" story={stories.AlignedCenter} />
</Canvas>

### Horizontal Align - Right

<Canvas>
  <Story name="horizontal right aligned" story={stories.AlignedRight} />
</Canvas>

### Vertical Align - Top

<Canvas>
  <Story name="vertical top aligned" story={stories.AlignedYTop} />
</Canvas>

### Vertical Align - Center

<Canvas>
  <Story name="vertical center aligned" story={stories.AlignedYCenter} />
</Canvas>

### Vertical Align - Bottom

<Canvas>
  <Story name="vertical bottom aligned" story={stories.AlignedYBottom} />
</Canvas>

### Info

<Canvas>
  <Story name="info" story={stories.Info} />
</Canvas>

### Neutral

<Canvas>
  <Story name="neutral" story={stories.Neutral} />
</Canvas>

### Error

<Canvas>
  <Story name="error" story={stories.Error} />
</Canvas>

### Warning

<Canvas>
  <Story name="warning" story={stories.Warning} />
</Canvas>

### Notice

When the "notice" variant is set, the Toast component is rendered at the bottom of the screen with alternative styling and animation.
The "isCenter" and "maxWidth" props will be ignored in this variant. 
To render it at the top of the screen use the "alignY" prop set to "top".

<Canvas>
  <Story name="notice" story={stories.Notice} />
</Canvas>

### Notification

<Canvas>
  <Story name="notification" story={stories.Notification} />
</Canvas>

### Variant Left Aligned

<Canvas>
  <Story name="left aligned" story={stories.LeftAligned} />
</Canvas>

### Custom max width

<Canvas>
  <Story name="custom-max-width" story={stories.CustomMaxWidth} />
</Canvas>

### Dismissible

<Canvas>
  <Story name="dismissible" story={stories.Dismissible} />
</Canvas>

### Dismissible with timeout

<Canvas>
  <Story
    name="dismissible-with-timeout"
    story={stories.DismissibleWithTimeout}
  />
</Canvas>

### Dismissible without autoFocus

<Canvas>
  <Story
    name="dismissible without autoFocus"
    story={stories.DismissibleWithoutAutoFocus}
  />
</Canvas>

### Grouped Delayed (stacking)

One second delay

<Canvas>
  <Story name="stacked-delayed" story={stories.StackedDelayed} />
</Canvas>

### Grouped (stacking)

Please use `targetPortalId` prop to group multiple toasts so that they stack.

<Canvas>
  <Story name="stacked" story={stories.Stacked} />
</Canvas>

## Props

### Toast

<ArgsTable of={Toast} />

## Translation keys

The following keys are available to override the translations for this component by passing in a custom locale object to the
[i18nProvider](https://carbon.sage.com/?path=/story/documentation-i18n--page).

<TranslationKeysTable
  translationData={[
    {
      name: "toast.ariaLabels.close",
      description: "The text for close button aria-label attribute",
      type: "func",
      returnType: "string",
    },
  ]}
/>